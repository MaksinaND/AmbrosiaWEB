<!DOCTYPE HTML>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Forum&family=Sansation:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <title>Собрать трапезу — Ambrosia</title>
</head>
<body class="lunch-bg">
  <header>
    <nav>
      <a href="index.html">Главная страница</a>
      <a href="about.html">История Амбросии</a>
      <a href="lunch.html">Собрать трапезу</a>
      <a href="orders.html">Свиток заказов</a>
      <a href="#contacts">Контакты Олимпа</a>
      <a href="login.html" class="loginlink">
        <img src="login.png" alt="Войти" class="loginpic">
      </a>
    </nav>
  </header>

  <main class="max">

    <section class="menu-section">
      <h3>Горячее</h3>
      <div class="menu-grid">
        <label class="plate-card plate-check">
          <input type="checkbox" name="hot" value="Нить Ариадны" data-price="285">
          <img src="ariadna.jpg" alt="Нить Ариадны" class="plate-img">
          <div class="plate-info">
            <p class="plate-title">Нить Ариадны</p>
            <p class="plate-desc">Паста в нежном томатно-сливочном соусе </p>
            <p class="plate-price">285 ₽</p>
          </div>
        </label>

        <label class="plate-card plate-check">
          <input type="checkbox" name="hot" value="Амброзия" data-price="330">
          <img src="ambrosia.jpg" alt="Амброзия" class="plate-img">
          <div class="plate-info">
            <p class="plate-title">Амброзия</p>
            <p class="plate-desc">Сочное мясо с гарниром</p>
            <p class="plate-price">330 ₽</p>
          </div>
        </label>

        <label class="plate-card plate-check">
          <input type="checkbox" name="hot" value="Щит Ареса" data-price="320">
          <img src="ares.jpg" alt="Щит Ареса" class="plate-img">
          <div class="plate-info">
            <p class="plate-title">Щит Ареса</p>
            <p class="plate-desc">Сытная запеканка из мяса и овощей</p>
            <p class="plate-price">320 ₽</p>
          </div>
        </label>
      </div>
    </section>


    <section class="menu-section">
      <h3>Закуски</h3>
      <div class="menu-grid">
        <label class="plate-card plate-check">
          <input type="checkbox" name="snack" value="Чары Афродиты" data-price="250">
          <img src="afrodita.jpg" alt="Чары Афродиты" class="plate-img">
          <div class="plate-info">
            <p class="plate-title">Чары Афродиты</p>
            <p class="plate-desc">Лёгкий салат с овощами и сыром</p>
            <p class="plate-price">250 ₽</p>
          </div>
        </label>

        <label class="plate-card plate-check">
          <input type="checkbox" name="snack" value="Слёзы Геры" data-price="240">
          <img src="geratears.jpg" alt="Слёзы Геры" class="plate-img">
          <div class="plate-info">
            <p class="plate-title">Слёзы Геры</p>
            <p class="plate-desc">Нежное пюре с кремовой текстурой</p>
            <p class="plate-price">240 ₽</p>
          </div>
        </label>
      </div>
    </section>

    <section class="menu-section">
      <h3>Десерты</h3>
      <div class="menu-grid">
        <label class="plate-card plate-check">
          <input type="checkbox" name="dessert" value="Нектар Диониса" data-price="230">
          <img src="dionis.jpg" alt="Нектар Диониса" class="plate-img">
          <div class="plate-info">
            <p class="plate-title">Нектар Диониса</p>
            <p class="plate-desc">Ароматное печенье с орехами</p>
            <p class="plate-price">230 ₽</p>
          </div>
        </label>

        <label class="plate-card plate-check">
          <input type="checkbox" name="dessert" value="Сон Морфея" data-price="200">
          <img src="morpheus.jpg" alt="Сон Морфея" class="plate-img">
          <div class="plate-info">
            <p class="plate-title">Сон Морфея</p>
            <p class="plate-desc">Мягкий десерт с нежным вкусом</p>
            <p class="plate-price">200 ₽</p>
          </div>
        </label>
      </div>
    </section>


    <section class="menu-section">
      <h3>Напитки</h3>
      <div class="menu-grid">
        <label class="plate-card plate-check">
          <input type="checkbox" name="drink" value="Кубок Прометея" data-price="150">
          <img src="prometheus.jpg" alt="Кубок Прометея" class="plate-img">
          <div class="plate-info">
            <p class="plate-title">Кубок Прометея</p>
            <p class="plate-desc">Бодрящий кофе с лёгкой кислинкой</p>
            <p class="plate-price">150 ₽</p>
          </div>
        </label>

        <label class="plate-card plate-check">
          <input type="checkbox" name="drink" value="Река Стикс" data-price="120">
          <img src="styx.jpg" alt="Река Стикс" class="plate-img">
          <div class="plate-info">
            <p class="plate-title">Река Стикс</p>
            <p class="plate-desc">Прохладительный ягодный напиток</p>
            <p class="plate-price">120 ₽</p>
          </div>
        </label>
      </div>
    </section>


    <section class="checkout">
      <h2 class="checkout-title">Сделать заказ</h2>

      <div class="checkout-grid">

        <aside class="summary">
          <h4>Ваш заказ</h4>

          <div class="summary-block" id="sum-hot">
            <p class="summary-cat">Горячее</p>
            <ul class="summary-list"><li class="empty">— не выбрано</li></ul>
          </div>

          <div class="summary-block" id="sum-snack">
            <p class="summary-cat">Закуски</p>
            <ul class="summary-list"><li class="empty">— не выбрано</li></ul>
          </div>

          <div class="summary-block" id="sum-dessert">
            <p class="summary-cat">Десерты</p>
            <ul class="summary-list"><li class="empty">— не выбрано</li></ul>
          </div>

          <div class="summary-block" id="sum-drink">
            <p class="summary-cat">Напитки</p>
            <ul class="summary-list"><li class="empty">— не выбрано</li></ul>
          </div>

          <div class="summary-total">
            <span>Стоимость заказа</span>
            <strong id="summary-total">0 ₽</strong>
          </div>
        </aside>


        <form class="card order-card" action="https://postman-echo.com/post" method="post">
          <h1>Оформить заказ</h1>

          <label>
            Имя:
            <input type="text" name="username" required>
          </label>

          <label>
            Email:
            <input type="email" name="email" placeholder="email@example.com">
          </label>

          <label class="remember">
            <input type="checkbox" name="subscribe" value="yes">
            Получать информацию о скидках и акциях
          </label>

          <label>
            Номер телефона:
            <input type="tel" name="phone" placeholder="+7 xxx xxx-xx-xx"
                   pattern="^\+?7\s?\d{3}\s?\d{3}-?\d{2}-?\d{2}$" required>
          </label>

          <label>
            Адрес доставки:
            <input type="text" name="address" placeholder="Улица, дом, квартира">
          </label>

          <p class="delivery-note">Доставка осуществляется только по Москве</p>

<fieldset>
  <legend>Время доставки:</legend>
  <label><input type="radio" name="when" value="asap" checked> Как можно скорее</label>
  <label><input type="radio" name="when" value="scheduled"> К указанному времени</label>
</fieldset>


          <label>
            Комментарий к заказу:
            <textarea name="comment" rows="3" placeholder="Пожелания по времени, без лука и т. п."></textarea>
          </label>

          <div class="total-row">
            <span>Итого:</span>
            <strong id="order-total">0 ₽</strong>
          </div>

          <button type="submit">Оформить</button>
        </form>
      </div>
    </section>
  </main>


<footer id="contacts">
  <div class="footer-inner">
    <p class="footer-title">Олимп на связи:</p>
    <a class="footer-phone" href="tel:+79152198937">7-915-123-45-67</a>
    <a class="footer-cta" href="feedback.html" title="Написать нам">Оставить глас Олимпу</a>
  </div>
</footer>

  <script>
    function money(n){ return (Number(n)||0) + ' ₽'; }

    const cats = {
      hot:     { selector: 'input[name="hot"]:checked' },
      snack:   { selector: 'input[name="snack"]:checked' },
      dessert: { selector: 'input[name="dessert"]:checked' },
      drink:   { selector: 'input[name="drink"]:checked' },
    };

    function recalc(){
      let sum = 0;
      Object.keys(cats).forEach(cat=>{
        const checked = document.querySelectorAll(cats[cat].selector);
        const list = document.querySelector(`#sum-${cat} .summary-list`);
        list.innerHTML = '';
        if (checked.length === 0) {
          list.innerHTML = '<li class="empty">— не выбрано</li>';
        } else {
          checked.forEach(el=>{
            const price = Number(el.dataset.price || 0);
            sum += price;
            const li = document.createElement('li');
            li.innerHTML = `${el.value} — <span class="price-highlight">${money(price)}</span>`;
            list.appendChild(li);
          });
        }
      });
      document.getElementById('order-total').textContent = money(sum);
      document.getElementById('summary-total').textContent = money(sum);
    }

    document.addEventListener('change', e=>{
      if (e.target.matches('input[type="checkbox"], input[type="radio"]')) recalc();
    });
    window.addEventListener('DOMContentLoaded', recalc);
  </script>
</body>
</html>
